extend base

mixin request(req)
  li.d-flex.align-items-center.justify-content-between.flex-wrap
    .user-img.img-fluid.flex-shrink-0
      img.rounded-circle.avatar-40(src=`../img/users/${req.sender.avatar}` alt='story-img')
    .flex-grow-1.ms-3
      h6= req.sender.username
    .d-flex.align-items-center.mt-2.mt-md-0
      .confirm-click-btn
        a.me-3.btn.btn-primary.rounded.confirm-btn.accept-friend(href='#' data-request-id=`${req.id}`) Confirm
      a.btn.btn-secondary.rounded(href='#' data-extra-toggle='delete' data-closest-elem='.item') Delete Request

mixin other(user)
  li.d-flex.align-items-center.flex-wrap
    .user-img.img-fluid.flex-shrink-0
      img.rounded-circle.avatar-40(src=`../img/users/${user.avatar}` alt='story-img')
    .flex-grow-1.ms-3
      h6= user.username
    .d-flex.align-items-center.mt-2.mt-md-0
      a.me-3.btn.btn-primary.rounded(href='#')
        i.ri-user-add-line.me-1
        | Add Friend
      a.btn.btn-secondary.rounded(href='#' data-extra-toggle='delete' data-closest-elem='.item') Remove

block content 
  #content-page.content-page
    .container
      .row
        .col-sm-12
          .card
            .card-body.p-0
              .user-tabing
                ul.nav.nav-pills.d-flex.align-items-center.justify-content-center.profile-feed-items.p-0.m-0
                  li.nav-item.col-12.col-sm-3.p-0
                    a.nav-link.active(href='#pills-other-tab' data-bs-toggle='pill' data-bs-target='#other' role='button') People You May Know
                  li.nav-item.col-12.col-sm-3.p-0
                    a.nav-link(href='#pills-friend-tab' data-bs-toggle='pill' data-bs-target='#friend' role='button') Friend
                  li.nav-item.col-12.col-sm-3.p-0
                    a.nav-link(href='#pills-friend-request-tab' data-bs-toggle='pill' data-bs-target='#friend-request' role='button') Friend Request
        .col-sm-12
          .tab-content
            #friend.tab-pane.fade(role='tabpanel')
              .card-body.p-0
                  .row
                    if(friends.length > 0)
                      each friend in friends
                        .col-md-6.col-lg-6.mb-3
                          .iq-friendlist-block
                            .d-flex.align-items-center.justify-content-between
                              .d-flex.align-items-center
                                a(href=`/${friend.sender.id}`)
                                  img.img-fluid.avatar-130(src=`../img/users/${friend.sender.avatar}` alt='profile-img')
                                .friend-info.ms-3
                                  h5= friend.sender.username
                              .card-header-toolbar.d-flex.align-items-center
                                .dropdown
                                  span#dropdownMenuButton01.dropdown-toggle.btn.btn-secondary.me-2(data-bs-toggle='dropdown' aria-expanded='true' role='button')
                                    i.ri-check-line.me-1.text-white
                                    |  Friend
                                  .dropdown-menu.dropdown-menu-right(aria-labelledby='dropdownMenuButton01')
                                    a.dropdown-item(href='#') Get Notification
                                    a.dropdown-item(href='#') Close Friend
                                    a.dropdown-item(href='#') Unfollow
                                    a.dropdown-item(href='#') Unfriend
                                    a.dropdown-item(href='#') Block
                    else 
                      .text-center
                        p Not yet friends                
            #friend-request.tab-pane.fade(role='tabpanel')
              .card
                .card-header.d-flex.justify-content-between
                  .header-title
                    h4.card-title Friend Request
                .card-body
                  ul.request-list.list-inline.m-0.p-0
                    if(friendRequest.length > 0)
                      each req in friendRequest
                        +request(req)
                    li.d-flex.align-items-center.justify-content-between.flex-wrap
                      .user-img.img-fluid.flex-shrink-0
                        img.rounded-circle.avatar-40(src='../assets/images/user/05.jpg' alt='story-img')
                      .flex-grow-1.ms-3
                        h6 Jaques Amole
                        p.mb-0 40 friends
                      .d-flex.align-items-center.mt-2.mt-md-0
                        .confirm-click-btn
                          a.me-3.btn.btn-primary.rounded.confirm-btn(href='#') Confirm
                          a.me-3.btn.btn-primary.rounded.request-btn(href='../app/profile.html' style='display: none;') View All
                        a.btn.btn-secondary.rounded(href='#' data-extra-toggle='delete' data-closest-elem='.item') Delete Request
            #other.tab-pane.fade.show.active(role='tabpanel')
              .card
                .card-header.d-flex.justify-content-between
                  .header-title
                    h4.card-title People You May Know
                .card-body
                  ul.request-list.m-0.p-0
                    if(nonFriend.length > 0)
                      each user in nonFriend 
                        +other(user)
                    li.d-flex.align-items-center.flex-wrap
                      .user-img.img-fluid.flex-shrink-0
                        img.rounded-circle.avatar-40(src='../assets/images/user/15.jpg' alt='story-img')
                      .flex-grow-1.ms-3
                        h6 Jen Youfelct
                        p.mb-0 4 friends
                      .d-flex.align-items-center.mt-2.mt-md-0
                        a.me-3.btn.btn-primary.rounded(href='#')
                          i.ri-user-add-line.me-1
                          | Add Friend
                        a.btn.btn-secondary.rounded(href='#' data-extra-toggle='delete' data-closest-elem='.item') Remove
                
